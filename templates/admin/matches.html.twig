{% extends 'admin/admin_base.html.twig' %}

{% block content %}
	<div class="card">
		<div class="card-header d-flex justify-content-between align-items-center mb-3 bg-dark text-white">
			<div>
				ðŸ“… Gestion des Matches
			</div>
			<a href="{{path('admin_match_new')}}" class="btn text-white ">âž• Nouveau</a>

		</div>

		<div class="card-body">
			<table class="table table-striped table-hover">
				<thead class="table-dark">
					<tr>
						<th>#</th>
						<th>Ã‰quipe 1</th>
						<th>Score</th>
						<th>Ã‰quipe 2</th>
						<th>Date</th>
						<th>Stade</th>
						<th>Phase</th>
						<th class="text-center">Actions</th>
					</tr>
				</thead>
				<tbody>
					{% for match in matches %}
						<tr>
							<td>{{ loop.index }}</td>
							<td>{{ match.team1.name }}</td>
							<td>
								<span class="badge bg-primary">
									{{ match.score1 is not null ? match.score1 : '-' }}
									-
									{{ match.score2 is not null ? match.score2 : '-' }}
								</span>
							</td>
							<td>{{ match.team2.name }}</td>
							<td>{{ match.date|date('d/m/Y H:i') }}</td>
							<td>{{ match.stadium }}</td>
							<td>
								<span class="badge {% if match.phase == 'Finale' %}bg-danger{% elseif match.phase == 'Demi' %}bg-warning{% elseif match.phase == 'Quarts' %}bg-info{% else %}bg-secondary{% endif %}">
									{{ match.phase }}
								</span>
							</td>
							<td class="text-center">
								<a href="{{ path('admin_match_edit', { id: match.id }) }}" class="btn btn-sm btn-warning">
									<i class="fas fa-edit"></i>
								</a>
								{# <a href="{{ path('admin_match_delete', { id: match.id }) }}" class="btn btn-sm btn-danger" onclick="return confirm('Voulez-vous vraiment supprimer ce match ?');">
																	<i class="fas fa-trash-alt"></i>
																</a> #}
								{{ include('matche/_delete_form.html.twig') }}

							</td>
						</tr>
					{% else %}
						<tr>
							<td colspan="8" class="text-center text-muted">Aucun match enregistrÃ©.</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
	</div>
{% endblock %}
