{% extends 'base.html.twig' %}

{% block title %}ğŸŸï¸ Mes Billets
{% endblock %}

{% block body %}
	<div class="container">
		<h2 class="fw-bold text-center mt-2">
			<span class="badge  fs-4 px-3 py-2" style="background-color: #006239">
				ğŸŸï¸ Mes Billets
			</span>
		</h2>

		{% if billets is empty %}
			<div class="alert alert-info text-center">Vous n'avez encore rÃ©servÃ© aucun billet.</div>
		{% else %}
			<table class="table table-hover shadow-sm text-center">
				<thead class="table-dark">
					<tr>
						<td class="bg-light ">
							<img src="{{ asset('images/caf-logo.png') }}" alt="CAF 2025" style="height: 50px;">

						</td>
					</tr>
					<tr>
						<th style="background-color: #006239; color: white">Match</th>
						<th style="background-color: #006239; color: white">Date & Heure</th>
						<th style="background-color: #006239; color: white">Stade</th>
						<th style="background-color: #006239; color: white">Prix</th>
						<th style="background-color: #006239; color: white">Statut</th>
					</tr>
				</thead>
				<tbody>
					{% for billet in billets %}
						<tr>
							<td>
								<strong>{{ billet.matche.team1.name }}</strong>
								ğŸ†š
								<strong>{{ billet.matche.team2.name }}</strong>
							</td>
							<td>
								ğŸ“…
								{{ billet.matche.date|date('d M Y') }}
								Ã 
								{{ billet.matche.date|date('H:i') }}
							</td>
							<td>
								ğŸŸï¸
								{{ billet.matche.stade.nom|default('Non dÃ©fini') }}
							</td>
							<td>
								ğŸ’°
								{{ billet.prix }}
								DH
							</td>
							<td>
								{% if billet.statut == 'en_attente' %}
									<span class="badge bg-warning text-dark">â³ En attente</span>
								{% elseif billet.statut == 'approuvÃ©' %}
									<span class="badge bg-success">âœ… ApprouvÃ©</span>
									<a href="{{ path('billet_download', { 'id': billet.id }) }}" class="btn btn-outline-primary btn-sm ms-2">
										ğŸ–¨ï¸ TÃ©lÃ©charger
									</a>
								{% elseif billet.statut == 'passÃ©' %}
									<span class="badge bg-success">âœ… Matche terminÃ©</span>
									
								{% else %}
									<span class="badge bg-danger">âŒ RefusÃ©</span>
								{% endif %}
							</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>
		{% endif %}
	</div>
{% endblock %}
